(function(e){function t(t){for(var s,r,i=t[0],c=t[1],u=t[2],h=0,d=[];h<i.length;h++)r=i[h],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},a={app:0},o=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/foodie-friend/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0230":function(e,t,n){"use strict";var s=n("b3e7"),a=n.n(s);a.a},"034f":function(e,t,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},"33a8":function(e,t,n){"use strict";var s=n("f6d3"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[e._m(0),n("Question")],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"welcome speech-bubble"},[e._v("\n      Hey, I heard you're looking for a place to eat? I can suggest some spots if you help me narrow down what you want.\n    ")]),n("div",{staticClass:"friend__img"},[n("a",{attrs:{href:"/"}},[n("img",{attrs:{alt:"tap this image to go back to the beginning",src:"/images/foodie-friend.png",width:"135"}})])])])}],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"question"},[n("div",{staticClass:"speech-bubble"},[e._v("\n    "+e._s(e.body)+"\n  ")]),n("div",{staticClass:"choices--container"},e._l(e.choices,function(t){return n("div",{key:t.key,staticClass:"choice"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedChoices,expression:"selectedChoices"}],staticClass:"checkbox--hidden",attrs:{type:"checkbox",name:t,id:e.questionNumber+(t.key||t)},domProps:{value:t.key||t,checked:Array.isArray(e.selectedChoices)?e._i(e.selectedChoices,t.key||t)>-1:e.selectedChoices},on:{change:function(n){var s=e.selectedChoices,a=n.target,o=!!a.checked;if(Array.isArray(s)){var r=t.key||t,i=e._i(s,r);a.checked?i<0&&(e.selectedChoices=s.concat([r])):i>-1&&(e.selectedChoices=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedChoices=o}}}),n("label",{staticClass:"bubble choice-bubble",attrs:{for:e.questionNumber+(t.key||t)}},[e._v(e._s(t.text||t))])])}),0),e.showAnswer?e._e():n("div",{staticClass:"send"},[e.lastQuestion?n("div",[e.showReady?n("button",{staticClass:"bubble button__forward",on:{click:e.submit}},[e._v("\n        send\n      ")]):e._e()]):n("div",[n("button",{staticClass:"bubble button__forward",on:{click:e.nextQuestion}},[e._v("\n        send\n      ")])])]),e.showAnswer?n("div",{staticClass:"answer"},[n("Restaurant",{attrs:{tags:e.selectedChoices}})],1):e._e()])},i=[],c=n("7842"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"restaurant--container"},[n("div",{staticClass:"restaurant speech-bubble"},[e.showAnswer?n("div",[e._v("\n      How about "),n("span",{staticClass:"restaurant__name"},[e._v(e._s(e.randomRestaurant.name))]),e._v("?\n      "),n("br"),e._v("\n      "+e._s(e.randomRestaurant.summary)+"\n    ")]):e.randomRestaurant?n("div",[e._v("\n      Sorry, can't really think of a good place right now.\n    ")]):n("div",[e._v("\n      typing...\n    ")])]),n("div",{staticClass:"other"},[e.showAnswer?n("div",{staticClass:"bubble choice-bubble choice-bubble__another",on:{click:function(t){e.showBye=!0}}},[e._v("\n      thanks\n    ")]):e._e(),e.showAnswer?n("div",{staticClass:"bubble choice-bubble choice-bubble__another",on:{click:e.anotherOne}},[e._v("\n      anywhere else?\n    ")]):e._e()]),e.showBye?n("div",{staticClass:"restaurant speech-bubble"},[e._v("\n    You're welcome! Let me know if you have any more questions.\n    "),n("br"),n("a",{attrs:{href:"/"}},[e._v("Do you want to start over?")])]):e._e()])},l=[],h=(n("7f7f"),n("bc3a"));function d(e){var t=encodeURI(e.tags.join(","));h.get("https://jhtob6nlmb.execute-api.us-west-2.amazonaws.com/prod/restaurant?tags=".concat(t)).then(function(t){if(t.data.Count>0){var n=t.data.Items;e.randomRestaurant=n[Math.floor(Math.random()*t.data.Count)]}else e.randomRestaurant={}})}var b={name:"Restaurant",props:["tags"],data:function(){return{randomRestaurant:!1,showBye:!1}},methods:{anotherOne:function(){d(this)}},computed:{showAnswer:function(){return this.randomRestaurant&&this.randomRestaurant.name}},mounted:function(){d(this)}},f=b,p=(n("0230"),n("2877")),m=Object(p["a"])(f,u,l,!1,null,null,null),v=m.exports,y=n("2f62");s["a"].use(y["a"]);var w=new y["a"].Store({state:{questionNumber:0,filters:[]},getters:{currentQuestionNumber:function(e){return e.questionNumber},chosenFilters:function(e){return e.filters}},mutations:{changeQuestion:function(e,t){e.questionNumber=e.questionNumber+t}}}),_={name:"Question",components:{Restaurant:v},data:function(){var e=w.getters.currentQuestionNumber,t=c[e],n=t.body,s=t.choices,a=[],o=!1,r=!1,i=!0;return{body:n,choices:s,questionNumber:e,selectedChoices:a,lastQuestion:o,showAnswer:r,showReady:i}},methods:{populateState:function(){var e=w.getters.currentQuestionNumber;this.body=c[e].body,this.choices=c[e].choices,this.questionNumber=e,e===c.length-1&&(this.lastQuestion=!0)},nextQuestion:function(){w.commit("changeQuestion",1),this.populateState()},previousQuestion:function(){w.commit("changeQuestion",-1),this.populateState()},submit:function(){this.$root.$emit("getRestaurant"),this.showAnswer=!0,this.showReady=!1}}},g=_,C=(n("33a8"),Object(p["a"])(g,r,i,!1,null,null,null)),k=C.exports,x={metaInfo:{title:"Foodie Friend says hi!"},components:{Question:k}},O=x,R=(n("034f"),Object(p["a"])(O,a,o,!1,null,null,null)),Q=R.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(Q)}}).$mount("#app")},"64a9":function(e,t,n){},7842:function(e){e.exports=JSON.parse('[{"body":"Anything sound good?","subtext":"Select all that apply","choices":["tacos","dumplings","pasta","healthy","vegetarian","pizza","burgers","family-style","small-plates"]},{"body":"What\'s your budget?","choices":[{"key":"low","text":"Less than a hipster cocktail."},{"key":"medium","text":"I\'m willing to pay a little more for ambiance."},{"key":"high","text":"Call me Auntie Moneybags!"}]},{"body":"When do you want to eat?","choices":["breakfast","lunch","dinner"]}]')},b3e7:function(e,t,n){},f6d3:function(e,t,n){}});
//# sourceMappingURL=app.9658276e.js.map